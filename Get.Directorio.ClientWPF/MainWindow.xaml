<Window x:Class="WpfApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Directorio - Gestión"
        Width="950" Height="848"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}">

    <Grid Margin="20">

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Padding="20"
                Background="{DynamicResource MaterialDesignCardBackground}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Registro de Usuario"
                           FontSize="26"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0 0 0 20"/>

                <!-- Nombre -->
                <StackPanel Grid.Row="1" Margin="0 10">
                    <TextBox x:Name="txtNombre"
                             materialDesign:HintAssist.Hint="Nombre"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             TextChanged="Campo_TextChanged"/>
                    <TextBlock x:Name="lblErrorNombre"
                               Foreground="Red" FontSize="12"/>
                </StackPanel>

                <!-- Apellido Paterno -->
                <StackPanel Grid.Row="2" Margin="0 10">
                    <TextBox x:Name="txtApellidoPaterno"
                             materialDesign:HintAssist.Hint="Apellido Paterno"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             TextChanged="Campo_TextChanged"/>
                    <TextBlock x:Name="lblErrorApellidoPaterno"
                               Foreground="Red" FontSize="12"/>
                </StackPanel>

                <!-- Apellido Materno -->
                <StackPanel Grid.Row="3" Margin="0 10">
                    <TextBox x:Name="txtApellidoMaterno"
                             materialDesign:HintAssist.Hint="Apellido Materno"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
                </StackPanel>

                <!-- Identificación -->
                <StackPanel Grid.Row="4" Margin="0 10">
                    <TextBox x:Name="txtIdentificacion"
                             materialDesign:HintAssist.Hint="Identificación"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             TextChanged="Campo_TextChanged"/>
                    <TextBlock x:Name="lblErrorIdentificacion"
                               Foreground="Red" FontSize="12"/>
                </StackPanel>

                <!-- Botón Registrar -->
                <Button Grid.Row="4"
                        Content="Registrar Usuario"
                        Click="Registrar_Click"
                        HorizontalAlignment="Center"
                        Width="220"
                        Margin="0,81,0,-27"
                        Style="{StaticResource MaterialDesignRaisedButton}" />

            </Grid>
        </Border>


        <TabControl Grid.Row="1"
                    Margin="0 20 0 0"
                    materialDesign:ColorZoneAssist.Mode="PrimaryDark">

            <TabItem Header="Usuarios">
                <StackPanel Margin="10">

                    <TextBox x:Name="txtBuscarUsuarios"
                     materialDesign:HintAssist.Hint="Buscar usuario por nombre"
                     Style="{StaticResource MaterialDesignOutlinedTextBox}"
                     TextChanged="txtBuscarUsuarios_TextChanged"
                     Margin="0 0 0 20"/>

                    <DataGrid x:Name="dgUsuarios"
                      AutoGenerateColumns="True"
                      IsReadOnly="True"
                      Height="350"/>
                </StackPanel>
            </TabItem>

            <!-- TAB 2: Usuarios + Facturas -->
            <TabItem Header="Usuarios + Facturas">
                <StackPanel Margin="10">

                    <TextBox x:Name="txtBuscarFacturas"
                     materialDesign:HintAssist.Hint="Buscar usuario por nombre"
                     Style="{StaticResource MaterialDesignOutlinedTextBox}"
                     TextChanged="txtBuscarFacturas_TextChanged"
                     Margin="0 0 0 20"/>

                    <DataGrid x:Name="dgUsuariosFacturas"
                      AutoGenerateColumns="True"
                      IsReadOnly="True"
                      Height="350"/>
                </StackPanel>
            </TabItem>


            <!-- TAB 3: Registrar Factura -->
            <TabItem Header="Registrar Factura">
                <StackPanel Margin="20">

                    <ComboBox x:Name="cbPersonas"
                              materialDesign:HintAssist.Hint="Seleccione un usuario"
                              Style="{StaticResource MaterialDesignOutlinedComboBox}"
                              DisplayMemberPath="nombreCompleto"
                              SelectedValuePath="personaId"
                              Width="300"
                              Margin="0 0 0 20"/>

                    <TextBox x:Name="txtDescripcionFactura"
                             materialDesign:HintAssist.Hint="Descripción de factura"
                             Style="{StaticResource MaterialDesignOutlinedTextBox}"
                             Margin="0 0 0 20"/>
                    <TextBox x:Name="txtMontoFactura"
                             materialDesign:HintAssist.Hint="Monto"
                             Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                             Margin="0 0 0 20"/>    

                    <Button Content="Registrar Factura"
                            Width="200"
                            Height="45"
                            Click="RegistrarFactura_Click"
                            Style="{StaticResource MaterialDesignRaisedButton}"/>
                </StackPanel>
            </TabItem>

        </TabControl>

    </Grid>
</Window>
